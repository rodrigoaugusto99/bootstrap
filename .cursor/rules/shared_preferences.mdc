---
alwaysApply: true
---

# MDC — Padrão de Uso de SharedPreferences

# Objetivo

Este documento define o padrão oficial de uso de SharedPreferences no projeto.
O objetivo é garantir consistência, segurança e padronização no armazenamento
de dados simples e persistentes no dispositivo do usuário.

SharedPreferences deve ser utilizado apenas para armazenar flags simples
e informações locais que não representam entidades de domínio
nem dados críticos de negócio.

Esse padrão deve ser seguido por desenvolvedores humanos
e por inteligências artificiais que atuem no projeto.

# Conceito Geral

SharedPreferences é utilizado para armazenar dados simples,
como booleans, strings ou números,
normalmente associados a preferências do usuário
ou controle de fluxo da aplicação.

Exemplos comuns de uso incluem:
Controle de onboarding  
Flags de primeira execução  
Preferências simples de UI

SharedPreferences não substitui banco de dados
nem Firestore.

# Padronização de Keys

Todas as keys utilizadas no SharedPreferences
devem ser definidas em um enum.

Nunca utilizar strings soltas como chave.

```dart
enum SharedPreferencesKeys {
  sawOnboarding,
}
```

# Exemplo de uso: checar se precisamos redirecionar o usuário pro fluxo de onboarding:

```dart
bool sawOnboarding = await getBoolSharedPreferences(
  SharedPreferencesKeys.sawOnboarding,
);

if (!sawOnboarding) {
  _navigationService.replaceWithOnBoardingView();
  return;
}
```

# Exemplo de uso 2: salvar no shared_preferences que o usuario acabou de passar pelo onboarding

```dart
await setBoolSharedPreferences(
  key: SharedPreferencesKeys.sawOnboarding,
  value: true,
);
```
